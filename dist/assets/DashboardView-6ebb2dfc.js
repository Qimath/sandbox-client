import{_ as w,F as f,u as v,G as B,t as c,o as u,c as y,a as m,e as s,i as e,H as b,g as l,I as A,h as I,f as S,J as x,p as C,m as k,b as V,v as N,x as h,T as P,y as D,z as E,A as H,D as T,E as $}from"./index-11a4a09d.js";const M=n=>(C("data-v-0c95046a"),n=n(),k(),n),O={class:"element"},R={class:"form"},z={class:"auth-container"},F=M(()=>m("h3",null,"Account Profile",-1)),G={__name:"ProfileHandler",emits:["auth-window","banner"],setup(n,{emit:d}){const o=f(),t=v();B();const _=c(()=>o.getAccount().nickname),i=c(()=>o.getAccount().email),p=c(()=>o.getAccount().avatar),r=c(()=>o.getAccount().login);async function g(){try{const a=await x();a.error&&a.error!==""?d("banner",{message:a.error,type:"error",animate:!0}):(window.sessionStorage.setItem("loggedOut","true"),t.push({name:"account"}).then(()=>t.go()))}catch(a){console.error("An app error occurred:",a)}}return(a,W)=>(u(),y("div",O,[m("div",R,[m("div",z,[F,s(b,{primary:e(_),secondary:e(i),picture:e(p),status:e(r)},null,8,["primary","secondary","picture","status"]),s(S,{id:"logout",color:"red",button:"",onClick:I(g,["prevent"])},{button:l(()=>[A("logout")]),_:1},8,["onClick"])])])]))}},J=w(G,[["__scopeId","data-v-0c95046a"]]);const L={class:"view-wrapper"},U={__name:"DashboardView",setup(n){const d=f(),o=c(()=>d.getAccount().email),{bannerOptions:t,displayBanner:_,closeBanner:i}=E();function p(r){r==="login"&&(authWindowSwap(r),i())}return V(()=>{window.sessionStorage.getItem("loggedIn")&&(_({message:`You are now successfully logged in as <strong>${o.value}</strong>`,type:"success",animate:!0}),window.sessionStorage.removeItem("loggedIn"))}),(r,g)=>(u(),y("div",L,[s(N,{full:"",grow:""},{container:l(()=>[s(H,null,{card:l(()=>[s(J)]),_:1})]),_:1}),(u(),h(D,{to:"body"},[s(P,{name:"banner",mode:"out-in"},{default:l(()=>[e(t).visibility?(u(),h(T,{key:0,onBannerClose:e(i),onBannerAction:p,message:e(t).message,action:e(t).action,animate:e(t).animate,type:e(t).type},null,8,["onBannerClose","message","action","animate","type"])):$("",!0)]),_:1})]))]))}},j=w(U,[["__scopeId","data-v-4531c159"]]);export{j as default};
