import{_ as w,E as f,u as v,n as c,o as u,c as y,a as m,b as s,g as e,F as B,e as l,G as b,f as S,d as A,H as I,p as x,j as C,q as k,t as V,v as h,T as N,x as P,y as D,z as E,C as H,D as T}from"./index-6c05cf79.js";const $=n=>(x("data-v-cb00acca"),n=n(),C(),n),M={class:"element"},O={class:"form"},j={class:"auth-container"},q=$(()=>m("h3",null,"Account Profile",-1)),z={__name:"ProfileHandler",emits:["auth-window","banner"],setup(n,{emit:d}){const a=f(),t=v(),_=c(()=>a.getAccount().nickname),i=c(()=>a.getAccount().email),p=c(()=>a.getAccount().avatar),r=c(()=>a.getAccount().login);async function g(){try{const o=await I();o.error&&o.error!==""?d("banner",{message:o.error,type:"error",animate:!0}):(window.sessionStorage.setItem("loggedOut","true"),t.push({name:"account"}).then(()=>t.go()))}catch(o){console.error("An app error occurred:",o)}}return(o,R)=>(u(),y("div",M,[m("div",O,[m("div",j,[q,s(B,{primary:e(_),secondary:e(i),picture:e(p),status:e(r)},null,8,["primary","secondary","picture","status"]),s(A,{id:"logout",color:"red",button:"",onClick:S(g,["prevent"])},{button:l(()=>[b("logout")]),_:1},8,["onClick"])])])]))}},F=w(z,[["__scopeId","data-v-cb00acca"]]);const G={class:"view-wrapper"},L={__name:"DashboardView",setup(n){const d=f(),a=c(()=>d.getAccount().email),{bannerOptions:t,displayBanner:_,closeBanner:i}=D();function p(r){r==="login"&&(authWindowSwap(r),i())}return k(()=>{window.sessionStorage.getItem("loggedIn")&&(_({message:`You are now successfully logged in as <strong>${a.value}</strong>`,type:"success",animate:!0}),window.sessionStorage.removeItem("loggedIn"))}),(r,g)=>(u(),y("div",G,[s(V,{full:"",grow:""},{container:l(()=>[s(E,null,{card:l(()=>[s(F)]),_:1})]),_:1}),(u(),h(P,{to:"body"},[s(N,{name:"banner",mode:"out-in"},{default:l(()=>[e(t).visibility?(u(),h(H,{key:0,onBannerClose:e(i),onBannerAction:p,message:e(t).message,action:e(t).action,animate:e(t).animate,type:e(t).type},null,8,["onBannerClose","message","action","animate","type"])):T("",!0)]),_:1})]))]))}},W=w(L,[["__scopeId","data-v-4531c159"]]);export{W as default};
