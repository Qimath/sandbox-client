import{u as h,r as y,_ as S,d as C,w as p,o as d,c as f,a as c,s as B,t as I,y as x,z as $,F as w,A as j,C as _,b as M,D as k,m,B as O,f as U,j as z,i as F,l as V}from"./index-b0fc0ffc.js";const D=h();function o(t,s,i){const a=y({});try{D.updateSettingValue(t,s),a.value=s,a.success=i}catch(e){console.error(e),a.error=e.message}return a}function N(t,s){const i={"preference-theme":()=>o(t,s,"Theme preferences updated"),"preference-storage":()=>o(t,s,"LocalStorage preferences updated"),"preference-gtm":()=>o(t,s,"Google Tag Manager preferences updated"),"setting-locale":()=>o(t,s,"Chatbox language settings updated"),"setting-merge":()=>o(t,s,"Session merge settings updated"),"setting-maximized":()=>o(t,s,"Maximized settings updated"),"setting-fullview":()=>o(t,s,"Fullview settings updated"),"setting-safemode":()=>o(t,s,"Safe mode settings updated"),"setting-cookie":()=>o(t,s===""?null:Number(s),"Cookies expiration date updated"),"callback-session-loaded":()=>o(t,s,"Callback settings on session loaded updated"),"callback-chat-initiated":()=>o(t,s,"Callback settings on chat initiated updated"),"callback-chat-opened":()=>o(t,s,"Callback settings on session chat opened updated"),"callback-chat-closed":()=>o(t,s,"Callback settings on session chat closed updated"),"callback-message-received":()=>o(t,s,"Callback settings on session chat opened updated"),"callback-message-sent":()=>o(t,s,"Callback settings on session chat closed updated"),"callback-nickname-changed":()=>o(t,s,"Callback settings on nickname changed updated"),"callback-email-changed":()=>o(t,s,"Callback settings on email changed updated"),"callback-phone-changed":()=>o(t,s,"Callback settings on phone changed updated"),"callback-avatar-changed":()=>o(t,s,"Callback settings on avatar changed updated")};return i[t]?i[t]():null}const T=t=>(B("data-v-a55add25"),t=t(),I(),t),A=["for"],H=["id","checked"],L=T(()=>c("div",{class:"slider"},null,-1)),R={__name:"BaseCheck",props:{value:{type:Boolean,default:!1},id:{type:String,default:""},label:{type:String,default:""}},emits:["update:value"],setup(t,{emit:s}){const i=t,a=C(i.value);return p(()=>i.value,e=>{a.value=e}),p(a,e=>{s("update:value",e)}),(e,r)=>(d(),f("label",{class:"switch",for:t.id},[c("input",{id:t.id,type:"checkbox",checked:a.value,onInput:r[0]||(r[0]=u=>a.value=!a.value)},null,40,H),L],8,A))}},E=S(R,[["__scopeId","data-v-a55add25"]]);const G=["id"],q=["value"],J=["for"],K={__name:"BaseSelect",props:{options:{type:Object,default:()=>{}},id:{type:String,default:""},value:{type:String,default:""},name:{type:String,default:""}},emits:["update:value"],setup(t,{emit:s}){const a=C(t.value);return p(a,e=>{s("update:value",e)}),(e,r)=>(d(),f("div",null,[x(c("select",{id:t.id,"onUpdate:modelValue":r[0]||(r[0]=u=>a.value=u)},[(d(!0),f(w,null,j(t.options,(u,b)=>(d(),f("option",{value:u,key:u},_(b),9,q))),128))],8,G),[[$,a.value]]),c("label",{for:t.id},_(t.name),9,J)]))}},P=S(K,[["__scopeId","data-v-f7762dfb"]]);const Q={key:0,class:"element"},W={class:"form"},X={class:"setting-container"},Y={class:"label"},Z=["for"],ee={class:"setting-item"},te={__name:"SettingsHandler",props:{settingId:{type:String,default:""}},emits:["settings-result","reset-settings"],setup(t,{emit:s}){const i=t,a=h(),e=y({value:"",error:"",success:""});M(()=>{i.settingId==="reset-settings"?Object.assign(e,{id:"reset-settings",color:"red",value:"reset settings",label:"Restore default settings"}):Object.assign(e,a.getSettingById(i.settingId))});const r=k(()=>e.id==="setting-cookie"),u=k(()=>e.id==="setting-locale"),b=k(()=>e.id==="reset-settings");async function v(g,l){e.success="",e.error="";try{const n=await N(g,l);n&&(n.error&&n.error!==""&&setTimeout(()=>{e.error=n.error,s("settings-result",e)},1),n.success&&n.success!==""&&(e.success=n.success,s("settings-result",e)))}catch(n){console.error("An app error occurred:",n),e.error="App error: Settings",s("settings-result",e)}}return p(()=>a.settings.lockMaximized.value,g=>{g&&v(a.settings.lockFullview.id,!1),Object.assign(e,a.getSettingById(i.settingId))}),p(()=>a.settings.lockFullview.value,g=>{g&&v(a.settings.lockMaximized.id,!1),Object.assign(e,a.getSettingById(i.settingId))}),p(()=>a.preferences.themeDetect.value,()=>{Object.assign(e,a.getSettingById(i.settingId))}),(g,l)=>e.id?(d(),f("div",Q,[c("div",W,[c("div",X,[c("div",Y,[c("label",{for:e.id},_(e.label),9,Z)]),c("div",ee,[u.value?(d(),m(P,{key:0,id:e.id,value:e.value,"onUpdate:value":[l[0]||(l[0]=n=>e.value=n),l[1]||(l[1]=n=>v(e.id,e.value))],options:e.options,name:e.name},null,8,["id","value","options","name"])):r.value?(d(),m(O,{key:1,id:e.id,label:e.name,value:e.value,"onUpdate:value":[l[2]||(l[2]=n=>e.value=n),l[3]||(l[3]=n=>v(e.id,e.value))],number:""},null,8,["id","label","value"])):b.value?(d(),m(F,{key:2,id:e.id,color:e.color,onClick:l[4]||(l[4]=n=>g.$emit("reset-settings")),button:""},{button:U(()=>[z(_(e.value),1)]),_:1},8,["id","color"])):(d(),m(E,{key:3,id:e.id,label:e.label,value:e.value,"onUpdate:value":[l[5]||(l[5]=n=>e.value=n),l[6]||(l[6]=n=>v(e.id,e.value))]},null,8,["id","label","value"]))])])])])):V("",!0)}},ae=S(te,[["__scopeId","data-v-faa6d7f6"]]);export{ae as S};
