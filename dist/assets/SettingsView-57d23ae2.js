import{b as f,o as c,c as w,e,f as i,v as d,m as u,T as R,p as h,q as b,x as l,k as a,n as k,l as _}from"./index-4224d9e8.js";import{S as t}from"./SettingsHandler-0188d785.js";const v={class:"view-wrapper"},C={__name:"SettingsView",setup(B){const{bannerOptions:o,displayBanner:g,closeBanner:m}=b();function s(n){let r="";n.error&&n.error!==""?r="error":n.error===""&&n.success&&n.success!==""&&(r="success"),r==="error"?g({message:"There was an error saving these settings: "+n.error,type:"error",animate:!0}):r==="success"&&g({message:"Settings saved successfully! Some changes require the app to be restarted.",type:"info",action:"reload",animate:!1})}function S(n){n==="reload"&&(window.sessionStorage.setItem("settingsSaved","true"),window.location.reload())}function p(){localStorage.removeItem("user"),window.sessionStorage.removeItem("settingsSaved"),window.sessionStorage.setItem("settingsReset","true"),window.location.reload()}return f(()=>{window.sessionStorage.getItem("settingsSaved")&&(g({message:"Settings have been applied and loaded successfully!",type:"success",animate:!0}),window.sessionStorage.removeItem("settingsSaved")),window.sessionStorage.getItem("settingsReset")&&(g({message:"Default settings have been restored.",type:"warning",animate:!0}),window.sessionStorage.removeItem("settingsReset"))}),(n,r)=>(c(),w("div",v,[e(d,{grow:""},{container:i(()=>[e(l,null,{card:i(()=>[e(t,{"setting-id":"preference-theme",onSettingsResult:s}),e(t,{"setting-id":"preference-storage",onSettingsResult:s}),e(t,{"setting-id":"preference-gtm",onSettingsResult:s})]),_:1}),e(l,null,{card:i(()=>[e(t,{"setting-id":"setting-merge",onSettingsResult:s}),e(t,{"setting-id":"setting-maximized",onSettingsResult:s}),e(t,{"setting-id":"setting-fullview",onSettingsResult:s}),e(t,{"setting-id":"setting-safemode",onSettingsResult:s}),e(t,{"setting-id":"setting-cookie",onSettingsResult:s}),e(t,{"setting-id":"setting-locale",onSettingsResult:s})]),_:1}),e(l,null,{card:i(()=>[e(t,{"setting-id":"reset-settings",onResetSettings:p})]),_:1})]),_:1}),e(d,{grow:""},{container:i(()=>[e(l,null,{card:i(()=>[e(t,{"setting-id":"callback-session-loaded",onSettingsResult:s}),e(t,{"setting-id":"callback-chat-initiated",onSettingsResult:s}),e(t,{"setting-id":"callback-chat-opened",onSettingsResult:s}),e(t,{"setting-id":"callback-chat-closed",onSettingsResult:s}),e(t,{"setting-id":"callback-message-sent",onSettingsResult:s}),e(t,{"setting-id":"callback-message-received",onSettingsResult:s}),e(t,{"setting-id":"callback-nickname-changed",onSettingsResult:s}),e(t,{"setting-id":"callback-email-changed",onSettingsResult:s}),e(t,{"setting-id":"callback-phone-changed",onSettingsResult:s}),e(t,{"setting-id":"callback-avatar-changed",onSettingsResult:s})]),_:1})]),_:1}),(c(),u(h,{to:"#app"},[e(R,{name:"banner",mode:"out-in"},{default:i(()=>[a(o).visibility?(c(),u(k,{key:0,onBannerClose:a(m),onBannerAction:S,message:a(o).message,action:a(o).action,animate:a(o).animate,type:a(o).type},null,8,["onBannerClose","message","action","animate","type"])):_("",!0)]),_:1})]))]))}};export{C as default};
